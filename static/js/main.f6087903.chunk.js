(this["webpackJsonpweather-app"]=this["webpackJsonpweather-app"]||[]).push([[0],{67:function(e,t,a){e.exports=a(86)},72:function(e,t,a){},73:function(e,t,a){},80:function(e,t,a){},81:function(e,t,a){},85:function(e,t,a){},86:function(e,t,a){"use strict";a.r(t);var n=a(0),c=a.n(n),r=a(10),o=a.n(r),i=(a(72),a(57)),l=a(11),u=a(32),s=a(24);var m=function(){var e=function(e,t){var a=Object(n.useState)((function(){try{var a=window.localStorage.getItem(e);return a?JSON.parse(a):t}catch(n){return console.log(n),t}})),c=Object(l.a)(a,2),r=c[0],o=c[1];return[r,function(t){try{var a=t instanceof Function?t(r):t;o(a),window.localStorage.setItem(e,JSON.stringify(a))}catch(n){console.log(n)}}]}("dark-mode-enabled"),t=Object(l.a)(e,2),a=t[0],c=t[1];return Object(n.useEffect)((function(){var e=window.document.body;a?e.classList.add("dark-mode"):e.classList.remove("dark-mode")}),[a]),[a,c]},d=(a(73),function(e){var t=e.darkMode,a=e.setDarkMode;return c.a.createElement("div",{className:"dark-mode-toggle"},c.a.createElement("button",{type:"button",onClick:function(){return a(!1)}},"\u2600"),c.a.createElement("span",{className:"toggle-control"},c.a.createElement("input",{className:"dmcheck",id:"dmcheck",type:"checkbox",checked:t,onChange:function(){return a(!t)}}),c.a.createElement("label",{htmlFor:"dmcheck"})),c.a.createElement("button",{type:"button",onClick:function(){return a(!0)}},"\u263e"))});var f=function(){var e=m(),t=Object(l.a)(e,2),a=t[0],n=t[1];return c.a.createElement("nav",{className:"navbar"},c.a.createElement("span",{className:"herolo"},"Herolo Weather Task"),c.a.createElement(u.b,{activeClassName:"active",to:"/home"},"Home"),c.a.createElement(u.b,{activeClassName:"active",to:"/favorites"},"Favorites"),c.a.createElement(d,{darkMode:a,setDarkMode:n}))};var h=function(){return c.a.createElement("div",null,c.a.createElement("h1",null,"Page Not Found"))},y=a(128),p="cU85WY4yqz7N0DckhOhmCeYQxKFADrAn",v="http://dataservice.accuweather.com/";function E(e){return fetch(function(e){return"".concat(v,"locations/").concat("v1","/cities/autocomplete?apikey=").concat(p,"&q=").concat(e)}(e)).then((function(e){return e.json()})).then((function(e){return e.map((function(e){return{name:e.LocalizedName,key:e.Key}}))}))}function g(e,t){return fetch(function(e,t){return"".concat(v,"locations/").concat("v1","/cities/geoposition/search?apikey=").concat(p,"&q=").concat(e,",").concat(t)}(e,t)).then((function(e){return e.json()})).then((function(e){return{name:e.LocalizedName,key:e.Key}}))}function b(e){return fetch(function(e){return"".concat(v,"forecasts/").concat("v1","/daily/1day/").concat(e,"?apikey=").concat(p)}(e)).then((function(e){return e.json()})).then((function(e){return e.DailyForecasts[0]}))}function k(e){return fetch(function(e){return"".concat(v,"forecasts/").concat("v1","/daily/5day/").concat(e,"?apikey=").concat(p)}(e)).then((function(e){return e.json()})).then((function(e){return e.DailyForecasts}))}var O=a(58),N=a(129),j=a(130),C=a(127),w=function(e){var t=e.isSearchOpen,a=e.setIsSearchOpen,n=e.cities,r=e.loading,o=e.handleInputChange,i=e.setNewCity,l=e.defaultCity;return c.a.createElement(j.a,{id:"asynchronous-demo",style:{width:280},open:t,onOpen:function(){a(!0)},onClose:function(){a(!1)},getOptionSelected:function(e,t){return e.name===t.name},getOptionLabel:function(e){return e.name},options:n,onChange:function(e,t,a){i(t||l)},loading:r.current,renderInput:function(e){return c.a.createElement(N.a,Object.assign({},e,{label:"Chose City",variant:"outlined",onChange:o,InputProps:Object(O.a)({},e.InputProps,{endAdornment:c.a.createElement(c.a.Fragment,null,r.current?c.a.createElement(C.a,{color:"inherit",size:20}):null,e.InputProps.endAdornment)})}))}})},D=a(54),F=a(78),S=function(e){var t=e.data,a=e.degreeType,n=e.type,r=(e.cityName,new Date),o=1e3*t.EpochDate;r.setTime(o);var i=Math.round(t.Temperature.Minimum.Value),l=Math.round(5*(i-32)/9),u=Math.round(t.Temperature.Maximum.Value),s=Math.round(5*(u-32)/9),m=t.Day.Icon<10?"0".concat(t.Day.Icon):t.Day.Icon,d="https://developer.accuweather.com/sites/default/files/".concat(m,"-s.png"),f=t.Night.Icon<10?"0".concat(t.Night.Icon):t.Night.Icon,h="https://developer.accuweather.com/sites/default/files/".concat(f,"-s.png");return c.a.createElement("div",{className:"card"},c.a.createElement("h3",{className:"card-title"},"city"===n?t.cityName:F(r).format("dddd")),c.a.createElement("p",{className:"text-muted"},F(r).format("MMMM Do, h:mm a")),c.a.createElement("img",{src:d,alt:"Logo"}),c.a.createElement("h2",null,"Day ","celsius"===a?l+"\xb0C":i+"\xb0F"),c.a.createElement("img",{src:h,alt:"Logo"}),c.a.createElement("h2",null,"Night ","celsius"===a?s+"\xb0C":u+"\xb0F"),c.a.createElement("div",{className:"card-body"},c.a.createElement("p",{className:"card-text"},t.Day.IconPhrase)))};a(80);var T=function(e){var t=e.cityNumber,a=e.degreeType,r=Object(n.useState)([]),o=Object(l.a)(r,2),i=o[0],u=o[1];return Object(n.useEffect)((function(){t&&k(t).then((function(e){u(e)}))}),[t]),c.a.createElement("div",{className:"dailyForecast"},c.a.createElement("div",{className:"dailyCards"},i.map((function(e,t){return c.a.createElement(S,{data:e,degreeType:a,key:t})}))))},I=function(e){var t=e.degreeType,a=e.updateForecastDegree;return c.a.createElement("div",{className:"degreeToggle"},c.a.createElement("div",{className:"form-check form-check-inline"},c.a.createElement("input",{className:"form-check-input",type:"radio",name:"degree-type",id:"celsius",value:"celsius",checked:"celsius"===t,onChange:a}),c.a.createElement("label",{className:"form-check-label",htmlFor:"celsius"},"\u2103")),c.a.createElement("div",{className:"form-check form-check-inline"},c.a.createElement("input",{className:"form-check-input",type:"radio",name:"degree-type",id:"farenheit",value:"fahrenheit",checked:"fahrenheit"===t,onChange:a}),c.a.createElement("label",{className:"form-check-label",htmlFor:"farenheit"},"\u2109")))},M=a(55),x=a.n(M),L=a(126),P=(a(81),function(){var e=Object(n.useContext)(J),t=e.favorites,a=e.defaultCity,r=e.setDefaultCity,o=e.updateFavorites,i=e.degreeType,u=e.setDegreeType,s=Object(D.usePosition)(!1,{enableHighAccuracy:!0}),m=s.latitude,d=s.longitude,f=Object(n.useState)(!1),h=Object(l.a)(f,2),p=h[0],v=h[1],b=Object(n.useState)([]),k=Object(l.a)(b,2),O=k[0],N=k[1],j=Object(n.useState)(""),C=Object(l.a)(j,2),F=C[0],S=C[1],M=Object(n.useState)(!1),P=Object(l.a)(M,2),A=P[0],W=P[1],z=Object(n.useState)(a),H=Object(l.a)(z,2),q=H[0],K=H[1],B=Object(n.useRef)(!1),R=Object(y.a)((function(e){E(e).then((function(e){B.current=!1,N(e)}))}),500),V=Object(l.a)(R,1)[0];Object(n.useEffect)((function(){m&&g(m,d).then((function(e){r(e)}))}),[m,d,r,t]),Object(n.useEffect)((function(){F?(B.current=!0,V(F)):(B.current=!1,N([]))}),[F,V]),Object(n.useEffect)((function(){t.some((function(e){return e.key===q.key}))&&W(!0)}),[]),Object(n.useEffect)((function(){p||N([])}),[p]);return c.a.createElement("div",{className:"homeWeather"},c.a.createElement("div",{className:"CitySelector"},c.a.createElement(w,{isSearchOpen:p,setIsSearchOpen:v,cities:O,loading:B,defaultCity:a,handleInputChange:function(e){S(e.target.value)},setNewCity:function(e){t.some((function(t){return t.key===e.key}))?W(!0):W(!1),K(e)}})),q.name||a.name?[c.a.createElement(L.a,{key:0,onClick:function(){if(A){W(!1);var e=q.name?q:a;o(t,void 0,e)}else{W(!0);var n=q.name?q:a;o(t,n)}},color:A?"secondary":"inherit","aria-label":"add an alarm"},c.a.createElement(x.a,null),c.a.createElement("div",{className:"currentCity"},q.name||a.name)),c.a.createElement("div",{key:2,className:"fiveDay"},"5-Day Forecast."),c.a.createElement(I,{key:1,degreeType:i,updateForecastDegree:function(e){u(e.target.value)}}),c.a.createElement(T,{key:3,cityNumber:q.key||a.key,degreeType:i})]:c.a.createElement("div",{className:"currentCity"},"Loading my city... (Allow Location)"))}),A=a(45),W=a.n(A),z=a(56);a(85);var H=function(){var e=Object(n.useContext)(J),t=e.favorites,a=(e.updateFavorites,e.degreeType),r=e.setDegreeType,o=Object(n.useState)([]),i=Object(l.a)(o,2),u=i[0],s=i[1];return Object(n.useEffect)((function(){var e=[];Promise.all(t.map(function(){var t=Object(z.a)(W.a.mark((function t(a,n){var c;return W.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,b(a.key);case 2:(c=t.sent).cityName=a.name,e[n]=c;case 5:case"end":return t.stop()}}),t)})));return function(e,a){return t.apply(this,arguments)}}())).then((function(){s(e)}))}),[]),c.a.createElement("div",{className:"favorites"},t.length>0?c.a.createElement(c.a.Fragment,null,c.a.createElement("div",{key:2,className:"todayTitle"},"Today's Forecast."),u.length>0&&c.a.createElement(I,{key:1,degreeType:a,updateForecastDegree:function(e){r(e.target.value)}}),c.a.createElement("div",{className:"dailyForecast"},c.a.createElement("div",{className:"dailyCards"},u.map((function(e,t){return c.a.createElement(S,{type:"city",data:e,degreeType:a,key:t})}))))):c.a.createElement("div",{key:2,className:"addCity"},"Add city to favorites in the Home screen."))},J=c.a.createContext(null),q=function(){var e=Object(n.useState)([]),t=Object(l.a)(e,2),a=t[0],r=t[1],o=Object(n.useState)({}),m=Object(l.a)(o,2),d=m[0],y=m[1],p=Object(n.useState)("fahrenheit"),v=Object(l.a)(p,2),E=v[0],g=v[1];return c.a.createElement(J.Provider,{value:{favorites:a,defaultCity:d,updateFavorites:function(e,t,a){t&&r([].concat(Object(i.a)(e),[t])),a&&r(e.filter((function(e){return e.key!==a.key})))},setDefaultCity:y,degreeType:E,setDegreeType:g}},c.a.createElement(u.a,null,c.a.createElement("div",null,c.a.createElement(f,null),c.a.createElement(s.c,null,c.a.createElement(s.a,{exact:!0,path:"/",component:P}),c.a.createElement(s.a,{path:"/home",component:P}),c.a.createElement(s.a,{path:"/Evgeny-Rubin-26-03-2020",component:P}),c.a.createElement(s.a,{path:"/favorites",component:H}),c.a.createElement(s.a,{component:h})))))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));o.a.render(c.a.createElement(c.a.StrictMode,null,c.a.createElement(q,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[67,1,2]]]);
//# sourceMappingURL=main.f6087903.chunk.js.map